<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>OpenAI 开发者论坛 - 最新帖子</title>
    <link>https://community.openai.com</link>
    <description>最新帖子</description>
    <lastBuildDate>Fri, 29 Dec 2023 18:22:40 GMT</lastBuildDate>
    <item>
      <title>使用函数调用和JSON模式时JSON无效</title>
      <link>https://community.openai.com/t/invalid-json-when-using-function-calling-and-json-mode/574348#post_4</link>
      <description><![CDATA[我真的不想在这个示例中使用这些工具，因为我想了解问题的根源。
我使用此提示和示例来获取可解析的 JSON：
你是一个有用的助手，它会在消息键中返回你的响应的 json，如下所示 {\&quot;message\&quot;: \&quot;your response gets here\&quot;}

然而，正如我在最初的帖子中所述，该模型泄漏了示例并输出了 2 个 JSON 对象。
{&quot;message&quot;: &quot;您好！今天需要什么帮助吗？&quot;}
{“message”：“您的回复在此处”}

虽然这只发生过一次，但我想了解为什么？它会随机再次发生吗？
对我来说奇怪的是，当工具传递到 API 时，gpt-3.5-turbo-1106 发送 2 个 JSON 对象。
completion = client.chat.completions.create(
    消息=[
        {
            “角色”：“系统”，
            &quot;content&quot;: &quot;你是一个有用的助手，会在消息键中返回你的响应的 json&quot;,
        },
        {
            “角色”：“用户”，
            &quot;content&quot;: &quot;我叫亨奇&quot;,
        }
    ],
    型号=“gpt-3.5-turbo-1106”，
    #model =“gpt-4-1106-preview”，
    response_format={&quot;type&quot;: &quot;json_object&quot;},
    工具=[工具c]
）

输出以下内容，但有时输出 JSON 对象：
{
  &quot;message&quot;: &quot;Hench 您好，今天需要什么帮助吗？&quot;
}
{
  &quot;message&quot;: &quot;Hench 您好，今天需要什么帮助吗？&quot;
}

当您评论 tools=[toolc] 时，模型将始终输出单个 JSON 对象，并且这就是问题
正如您所看到的，模型与其响应不一致，并且传递工具使其变得更加如此，这就是我试图理解的，具有更大的系统提示和更多详细信息关于如何生成 JSON，即使有 10 个 JSON 输出示例，模型仍然无法输出单个 JSON 对象。]]></description>
      <guid>https://community.openai.com/t/invalid-json-when-using-function-calling-and-json-mode/574348#post_4</guid>
      <pubDate>Fri, 29 Dec 2023 18:19:03 GMT</pubDate>
    </item>
    <item>
      <title>自定义 GPT：此文件包含太多文本内容。请使用较小的文件重试</title>
      <link>https://community.openai.com/t/custom-gpts-this-file-contains-too-much-text-content-please-try-again-with-a-smaller-file/491472#post_13</link>
      <description><![CDATA[我想这里还没有解决方案吗？我遇到过同样的问题，但找不到任何建议文本限制的文档。我在文件最大值范围内，正在尝试上传单个 PDF 文档作为数据，但其中包含大量文本（JSON 代码）。]]></description>
      <guid>https://community.openai.com/t/custom-gpts-this-file-contains-too-much-text-content-please-try-again-with-a-smaller-file/491472#post_13</guid>
      <pubDate>Fri, 29 Dec 2023 18:17:47 GMT</pubDate>
    </item>
    <item>
      <title>如何获取原始列表作为助手的输出？</title>
      <link>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_5</link>
      <description><![CDATA[简单问一下，为什么不是 JSON？您能测试一下这个并看看它是否适合您吗？
||
请使用以下格式的 JSON 响应进行回答。没有致敬，没有解释，没有谢谢，除了指定的 JSON。
[
{
“标题”：“占位符标题 1”，
“作者”:“占位符作者 1”,
“主题”：“占位符主题 1”
},
{
“标题”：“占位符标题2”，
“作者”：“占位符作者2”，
“主题”：“占位符主题 2”
}
]
确保 JSON 有效！
||
编辑：刚刚看到Macha的回复。那里+1。 &lt;img alt=&quot;:yum:&quot; class=&quot;emoji&quot; height=&quot;20&quot; src=&quot;https://emoji.discourse-cdn.com/twitter/yum.png?v=12&quot; title=&quot;:yum: “宽度=“20”/&gt;]]></description>
      <guid>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_5</guid>
      <pubDate>Fri, 29 Dec 2023 18:14:52 GMT</pubDate>
    </item>
    <item>
      <title>使用函数调用和JSON模式时JSON无效</title>
      <link>https://community.openai.com/t/invalid-json-when-using-function-calling-and-json-mode/574348#post_3</link>
      <description><![CDATA[


 cyzgab：
&lt;块引用&gt;
相反，我可能会尝试这样的事情：
&lt;块引用&gt;
你是一个有用的助手，会在消息键中返回你的响应的 json

如果我更改系统消息，“您好！今天我能为您提供什么帮助”json 不重复。





母鸡：
&lt;块引用&gt;
 {
            “角色”：“系统”，
            &quot;content&quot;: &quot;你是一个有用的助手，会在消息键中返回你的响应的 json&quot;,
        },



它们是相同的吗？
对于这个例子来说，他们不需要使用的工具没有问题。]]></description>
      <guid>https://community.openai.com/t/invalid-json-when-using-function-calling-and-json-mode/574348#post_3</guid>
      <pubDate>Fri, 29 Dec 2023 18:12:24 GMT</pubDate>
    </item>
    <item>
      <title>如何获取原始列表作为助手的输出？</title>
      <link>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_4</link>
      <description><![CDATA[如果您确实获得了与列表一致的字典，那么请考虑简单地删除列表前后所有额外的、不必要的内容。
这应该是一个简单而强大的解决方案，但我承认确保您真正只得到您想要的东西更具成本效益。]]></description>
      <guid>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_4</guid>
      <pubDate>Fri, 29 Dec 2023 18:10:11 GMT</pubDate>
    </item>
    <item>
      <title>抱歉，尝试使用语音时发生未知错误</title>
      <link>https://community.openai.com/t/sorry-an-unknown-error-occurred-when-attempting-to-use-voice/401841#post_6</link>
      <description><![CDATA[过去 10 天我也遇到这个问题。真的很烦人。效果非常好！]]></description>
      <guid>https://community.openai.com/t/sorry-an-unknown-error-occurred-when-attempting-to-use-voice/401841#post_6</guid>
      <pubDate>Fri, 29 Dec 2023 18:06:57 GMT</pubDate>
    </item>
    <item>
      <title>功能请求：DALLE API 响应中的令牌使用</title>
      <link>https://community.openai.com/t/feature-request-token-usage-in-dalle-api-responses/34134#post_4</link>
      <description><![CDATA[大家好。为了记录我们的 API 活动，如果有这个功能就好了。图片是根据图片的大小来计费的，对吗？无论计费过程如何，它仍然是从帐户中扣除。我们不能只返回该请求值多少代币吗？]]></description>
      <guid>https://community.openai.com/t/feature-request-token-usage-in-dalle-api-responses/34134#post_4</guid>
      <pubDate>Fri, 29 Dec 2023 18:06:32 GMT</pubDate>
    </item>
    <item>
      <title>如何获取原始列表作为助手的输出？</title>
      <link>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_3</link>
      <description><![CDATA[欢迎来到社区！
您是否考虑过强制其响应为 json 格式？
我的想法是，您可能能够强制它提供表示为 JSON 文件的文本列表，然后使用该格式以编程方式将其转换为您需要的数据结构。这是我想到的最快、最简单的解决方案。
它无法直接从提示符中直接输出原始数据结构。如果是的话，所述数据结构将来自其代码解释器/高级数据分析功能。它要做的就是编写脚本并执行脚本来创建某种类似的数据结构，但同样，与直接提示→数据结构相比，这仍然需要在编程端进行更多的工作。因此，为什么我认为使用 json 格式将是最好的解决方案。
如果您需要更多帮助或者这对您不起作用，请告诉我。]]></description>
      <guid>https://community.openai.com/t/how-to-get-a-raw-list-as-assistants-output/574525#post_3</guid>
      <pubDate>Fri, 29 Dec 2023 18:05:10 GMT</pubDate>
    </item>
    <item>
      <title>助理无法访问在消息级别传递的文件</title>
      <link>https://community.openai.com/t/assistant-doesnt-access-files-passed-on-the-message-level/574451#post_10</link>
      <description><![CDATA[


 alex_adamczyk：
&lt;块引用&gt;
这不是一个大文件。理论上我可以将其全部内容添加到助手提示符中，但首先，这不是重点，其次，这个文件没有任何问题。


我们只是想帮忙。如果不尝试就假设某件事是或不是重点，可能会导致您错过解决方案。助理指令和助理文件之间有明显的区别。您只是假设您放入文件中的指令与您放入指令中的指令同等对待，这是非常不可能的。
您有 32k 的说明空间（并且可以像任何助手的文件一样轻松（甚至更容易）更新说明）。
从你的提示来看，我还认为你应该让它更详细。
还有一件事 - 看看你的代码......你有这个函数 run() ，你似乎使用助手 ID 和指令中的（很长的）提示来调用它=‘’......”
你能解释一下吗？为什么不在助手中（仅）提供说明。这样您就可以快速更新后端的提示并再次运行您的代码（无需更改代码）。如果您直接将其提供给 Run，则您的助手中的任何内容都不会被使用......]]></description>
      <guid>https://community.openai.com/t/assistant-doesnt-access-files-passed-on-the-message-level/574451#post_10</guid>
      <pubDate>Fri, 29 Dec 2023 18:04:52 GMT</pubDate>
    </item>
    <item>
      <title>控制主题助理回复</title>
      <link>https://community.openai.com/t/controlling-topics-assistant-replies-to/575196#post_3</link>
      <description><![CDATA[


_j：
&lt;块引用&gt;
基于问题的知识注入（RAG）


谢谢。您的描述和示例提示确实很有帮助。我想我现在已经控制了问题。]]></description>
      <guid>https://community.openai.com/t/controlling-topics-assistant-replies-to/575196#post_3</guid>
      <pubDate>Fri, 29 Dec 2023 18:02:57 GMT</pubDate>
    </item>
    <item>
      <title>将文件发送到完成 api</title>
      <link>https://community.openai.com/t/send-files-to-completion-api/575385#post_2</link>
      <description><![CDATA[尝试按照这些思路做一些事情
从 openai 导入 OpenAI
客户端 = OpenAI()
file = client.files.create( file=open(&quot;file.pdf&quot;, &quot;rb&quot;), Purpose=&quot;fine-tune&quot; )
客户端 = OpenAI() 完成 = client.chat.completions.create( model=&quot;gpt-4-1106&quot;,
        messages=[ {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;你是一个可以阅读PDF的得力助手。&quot;},
                   {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;从{file.id}中提取第三页的文本&quot;} ] )
print(completion.choices[0].message)

有人提到以下代码可以工作，但想了解幕后发生的事情
从 langchain.document_loaders 导入 PyPDFLoader
从 langchain.llms 导入 OpenAI
从 langchain.chains.question_answering 导入 load_qa_chain

#在此处找到您的 PDF。
pdf=&quot;&lt;YOUR_PDF_GOES_HERE&gt;&quot;
#加载PDF
加载器 = PyPDFLoader(pdf)
文档 = loader.load()

api_key = &quot;sk-??????&quot;
llm = OpenAI(openai_api_key=api_key)
链 = load_qa_chain(llm,verbose=True)
Question = input(&quot;在此输入您的问题：&quot;)
响应 = chain.run(input_documents=文档，问题=问题)
打印（响应）
]]></description>
      <guid>https://community.openai.com/t/send-files-to-completion-api/575385#post_2</guid>
      <pubDate>Fri, 29 Dec 2023 18:00:40 GMT</pubDate>
    </item>
    <item>
      <title>帮我提示一下数据分析和文件输入吗？</title>
      <link>https://community.openai.com/t/help-me-with-prompt-for-data-analysis-and-input-of-file/574965#post_2</link>
      <description><![CDATA[您好，欢迎来到社区！
所以，是的，GPT 应该能够将数据添加到 Excel 文件。
我能想到的最简单的方法是包含一些空列，即“类型”和“标签”。
上下文是关键，特异性、清晰度和细节总是有助于模型提供更好的响应，因此定义关键字类型的含义将非常方便。您还应该指定（以防万一）GPT 为列选择一种类型。
要求它逐行执行这个逻辑，遍历每个关键字并以这种方式评估它，你应该很好。
提示时要记住的最好的事情是尽可能详细地表达您想要的逻辑流程。
请告诉我们进展情况以及您是否需要更多指导帮助！]]></description>
      <guid>https://community.openai.com/t/help-me-with-prompt-for-data-analysis-and-input-of-file/574965#post_2</guid>
      <pubDate>Fri, 29 Dec 2023 17:56:11 GMT</pubDate>
    </item>
    <item>
      <title>无法使 dall.e 在设计中正确包含文本</title>
      <link>https://community.openai.com/t/cant-make-dall-e-include-a-text-in-a-design-properly/575338#post_2</link>
      <description><![CDATA[您好，欢迎来到社区！
因此，在图像生成方面，语言模型在生成正确文本方面非常糟糕。目前这似乎并不在 Dall-E 的能力范围之内。因此，不幸的是，如果您需要图像中的正确文本，则必须手动编辑它以包含所需的文本。
图像生成在能够正确获取图像中的文本之前还有很长的路要走。]]></description>
      <guid>https://community.openai.com/t/cant-make-dall-e-include-a-text-in-a-design-properly/575338#post_2</guid>
      <pubDate>Fri, 29 Dec 2023 17:50:27 GMT</pubDate>
    </item>
    <item>
      <title>将文件发送到完成 api</title>
      <link>https://community.openai.com/t/send-files-to-completion-api/575385#post_1</link>
      <description><![CDATA[你好，
我正在尝试将文件发送到聊天完成 api，但很难找到一种方法来做到这一点。我看到了一些使用 langchain 的建议，但我想使用 openai sdk 来本地实现它。
有关如何做到这一点的任何提示？
谢谢]]></description>
      <guid>https://community.openai.com/t/send-files-to-completion-api/575385#post_1</guid>
      <pubDate>Fri, 29 Dec 2023 17:50:00 GMT</pubDate>
    </item>
    </channel>
</rss>